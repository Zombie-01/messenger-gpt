(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{1966:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/logs",function(){return o(6828)}])},6828:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return r}});var n=o(5893),l=o(7294);function r(){let[e,t]=(0,l.useState)([]),[o,r]=(0,l.useState)(!0),[s,d]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{let e;let o=async()=>{try{let e=await fetch("/api/logs"),o=await e.json();t(o.logs||[]),r(!1)}catch(e){console.error("Failed to fetch logs:",e),r(!1)}};return o(),s&&(e=setInterval(o,3e3)),()=>{e&&clearInterval(e)}},[s]),(0,n.jsxs)("main",{style:a.container,children:[(0,n.jsxs)("div",{style:a.header,children:[(0,n.jsx)("h1",{style:a.heading,children:"Application Logs"}),(0,n.jsxs)("p",{style:a.timestamp,children:["Last updated: ",new Date().toLocaleTimeString()]})]}),(0,n.jsxs)("div",{style:a.controls,children:[(0,n.jsx)("button",{style:{...a.button,backgroundColor:s?"#28a745":"#6c757d"},onClick:()=>d(!s),children:s?"✓ Auto Refresh":"Auto Refresh"}),(0,n.jsx)("button",{style:a.button,onClick:()=>{let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),o=URL.createObjectURL(t),n=document.createElement("a");n.href=o,n.download="logs-".concat(new Date().toISOString(),".json"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},children:"Download Logs"}),(0,n.jsx)("button",{style:{...a.button,backgroundColor:"#dc3545"},onClick:()=>{t([])},children:"Clear Logs"}),(0,n.jsx)("a",{href:"/",style:a.backLink,children:"← Back to Home"})]}),(0,n.jsx)("div",{style:a.logsContainer,children:o?(0,n.jsx)("p",{style:a.loadingText,children:"Loading logs..."}):0===e.length?(0,n.jsx)("p",{style:a.emptyText,children:"No logs yet. Logs will appear here when webhook events occur."}):(0,n.jsx)("div",{style:a.logsList,children:[...e].reverse().map(e=>(0,n.jsxs)("div",{style:{...a.logEntry,borderLeftColor:i(e.level)},children:[(0,n.jsxs)("div",{style:a.logHeader,children:[(0,n.jsx)("span",{style:{...a.logLevel,backgroundColor:i(e.level)},children:e.level}),(0,n.jsx)("span",{style:a.logTime,children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,n.jsx)("p",{style:a.logMessage,children:e.message}),Object.keys(e.data).length>0&&(0,n.jsxs)("details",{style:a.details,children:[(0,n.jsx)("summary",{style:a.summary,children:"Details"}),(0,n.jsx)("pre",{style:a.detailsContent,children:JSON.stringify(e.data,null,2)})]})]},e.id))})}),(0,n.jsxs)("div",{style:a.footer,children:[(0,n.jsxs)("p",{children:["Total logs: ",e.length]}),(0,n.jsxs)("p",{children:["Auto-refresh: ",s?"Enabled":"Disabled"]})]})]})}let i=e=>{switch(e){case"ERROR":return"#dc3545";case"WARN":return"#ffc107";case"INFO":return"#17a2b8";default:return"#6c757d"}},a={container:{minHeight:"100vh",backgroundColor:"#0f0f0f",color:"#fff",padding:"20px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, sans-serif'},header:{maxWidth:"1200px",margin:"0 auto 30px"},heading:{fontSize:"32px",marginBottom:"8px",marginTop:"0"},timestamp:{color:"#888",fontSize:"14px",margin:"0"},controls:{maxWidth:"1200px",margin:"0 auto 30px",display:"flex",gap:"10px",flexWrap:"wrap",alignItems:"center"},button:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",transition:"opacity 0.3s"},backLink:{color:"#007bff",textDecoration:"none",fontSize:"14px",marginLeft:"auto"},logsContainer:{maxWidth:"1200px",margin:"0 auto",backgroundColor:"#1a1a1a",borderRadius:"8px",padding:"20px",minHeight:"400px",maxHeight:"600px",overflow:"auto"},loadingText:{textAlign:"center",color:"#888",padding:"20px"},emptyText:{textAlign:"center",color:"#888",padding:"40px 20px"},logsList:{display:"flex",flexDirection:"column",gap:"12px"},logEntry:{backgroundColor:"#252525",borderLeft:"4px solid #17a2b8",padding:"12px 16px",borderRadius:"4px"},logHeader:{display:"flex",gap:"12px",alignItems:"center",marginBottom:"8px"},logLevel:{padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"bold",color:"white"},logTime:{fontSize:"12px",color:"#888"},logMessage:{margin:"0",fontSize:"14px"},details:{marginTop:"8px"},summary:{cursor:"pointer",fontSize:"12px",color:"#888"},detailsContent:{backgroundColor:"#1a1a1a",padding:"10px",borderRadius:"4px",fontSize:"11px",overflow:"auto",margin:"8px 0 0 0"},footer:{maxWidth:"1200px",margin:"30px auto 0",textAlign:"center",color:"#888",fontSize:"12px"}}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=1966)}),_N_E=e.O()}]);